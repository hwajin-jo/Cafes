<html layout:decorate = "~{layout}">

<th:block layout:fragment="css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" th:href="@{/css/community.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/css/signup.css}">
</th:block>

<div layout:fragment = "content">

    <section>
    	<div class="container">
		    <h3 style="margin-right: 15%; font-weight: bold;">글 작성</h3>
		    <br><br>
		    <form th:object="${communityFormDto}" method="post">
		    	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				<div class="alert alert-danger" role="alert" th:if="${#fields.hasAnyErrors()}">
		            <div th:each="err : ${#fields.allErrors()}" th:text="${err}" />
		        </div>
		        <div class="form-group">
		            <label for="subject">제목</label>
		            <input type="text" th:field="*{content}" class="form-control">
		        </div>
		        <div class="form-group">
		            <label for="content">내용</label>
		            <textarea th:field="*{subject}" class="form-control" id="contents" rows="20" placeholder="적절치 못한 내용의 게시글은 삭제될 수 있습니다."></textarea>
		        </div>
		        <input type="submit" value="저장" class="btn btn-primary">
		    </form>
		</div>
    </section>
    <div style="margin-bottom: 650px;"></div>
    </div>
</html> 

<script type="text/javascript">
    function save() {
        let title = document.getElementById("title").value;
        let contents = document.getElementById("contents").value;
        if(title == "") {
            alert("제목은 필수입니다.");
            title.focus();
        } else if(contents == "") {
            alert("내용은 필수입니다.")
            contents.focus();
        } else {
            location.href="qna.html";
        }
    }

</script>